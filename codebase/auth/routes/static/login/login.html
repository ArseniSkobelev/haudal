<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haudal Authentication</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue-light_blue.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
</head>

<body style="font-family: 'Inter' !important;">
    <main class="flex justify-center items-center flex-col" style="height: 100vh;">
        <div class="flex justify-center items-center gap-12 flex-col h-full w-full mainDiv" style="width: 220px;">
            <img src="https://cdn.haudal.com/files/haudal-logo.svg" alt="" width="120px" height="120px">
            <h1 class="" style="font-size: 20px;">Haudal Authentication</h1>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="text" id="email">
                <label class="mdl-textfield__label" for="email">Email</label>
            </div>
            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                <input class="mdl-textfield__input" type="password" id="password">
                <label class="mdl-textfield__label" for="password">Password</label>
            </div>
            <button id="loginBtn" type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"
                style="background-color: #55B6E1; color: white; width: 120px;">
                Login
            </button>
            <div class="flex justidy-center items-center text-center" style="color: #55B6E1;">
                <a href="#"><i>Donâ€™t have an account yet? Click here to create a new one</i></a>
            </div>
        </div>
    </main>
</body>

<script>
    function login(url) {
        let data = JSON.stringify({
            session: {
                email: document.getElementById('email').value,
                plain_password: document.getElementById('password').value
            }
        })
        const response = fetch('http://127.0.0.1:3000/api/v1/session', {
            method: 'POST', // *GET, POST, PUT, DELETE, etc.
            mode: 'cors', // no-cors, *cors, same-origin
            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
            credentials: 'same-origin', // include, *same-origin, omit
            headers: {
                'Content-Type': 'application/json'
                // 'Content-Type': 'application/x-www-form-urlencoded',
            },
            redirect: 'follow', // manual, *follow, error
            referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
            body: data
        }).then(response => console.log(response.json()));
    }

    const btn = document.getElementById("loginBtn")

    document.getElementById("loginBtn").addEventListener('click', login);
</script>

</html>